<head>
  <title>repinches</title>
  <script>
    function initGoogleApi() {
      gapi.client.setApiKey('AIzaSyCl1ybNI6EWjT6PAXPPrY4kFLqZsn7Teqg');
      gapi.client.load('youtube', 'v3');
    };
  </script>
  <script src="https://apis.google.com/js/client.js?onload=initGoogleApi"></script>
</head>

<body>
  <div class="container">
    {{> search}}

    <div class="row">
      <div class="span12">
        <div id="ytapiplayer"></div>
        {{> player}}
      </div>
    </div>
    <div class="row">
      <div class="span12">
        {{> playlist}}
      </div>
    </div>
    <div class="row">
      <div class="offset11 span1">
        {{> add}}
      </div>
    </div>
  </div>
</body>

<template name="search">
  <div class="row">
    <div class="span12">
      <input type=text" id="search_query" class="search-query span12" placeholder="Buscar"/>
    </div>
  </div>
  <div class="row">
    <div class="span12">
      {{#each songs}}
        {{> searchSong}}
      {{/each}}
    </div>
  </div>
</template>

<template name="searchSong">
  <div class="media">
    <a class="pull-left" href="#">
      <img class="media-object thumbnail" src="{{thumbnail}}"/>
    </a>
    <div class="media-body">
      <h4 class="media-heading title">{{title}}</h4>
      <span>{{description}}</span>
    </div>
  </div>
</template>

<template name="player">
  {{#if currentId}}
    {{init}}
  {{else}}
    <div id="playlist-empty">
      La lista de canciones está vacía
   </div>
  {{/if}}
</template>

<template name="playlist">
  {{#each songs}}
    {{> song}}
  {{/each}}
</template>

<template name="song">
  <div class="media">
    <a class="pull-left" href="#">
      <img class="media-object thumbnail" src="{{thumbnail}}"/>
    </a>
    <div class="media-body">
      <h4 class="media-heading title">{{title}}</h4>
      <span>{{description}}</span>
    </div>
  </div>
</template>

<template name="add">
  <input type="button" value="Añadir canción" class="add-song btn-primary" />
</template>
